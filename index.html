<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Outfit Intelligence Tool - Analyze your outfit with real color theory and get professional styling feedback">
  <title>ğŸ§  Outfit Intelligence Tool</title>
  
  <!-- Custom CSS (includes Tailwind-like utilities) -->
  <link rel="stylesheet" href="css/style.css">
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ§ </text></svg>">
</head>
<body class="bg-slate-900 text-white">
  
  <!-- Header -->
  <header class="bg-slate-800 shadow-lg">
    <div class="container mx-auto px-4 py-6">
      <h1 class="text-4xl font-bold text-center gradient-text">
        ğŸ§  Outfit Intelligence Tool
      </h1>
      <p class="text-center text-gray-400 mt-2">
        Real color theory meets AI-powered outfit analysis
      </p>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8 max-w-7xl">
    
    <!-- Mode Selection -->
    <section class="mb-8 fade-in">
      <div class="bg-slate-800 rounded-lg shadow-xl p-6">
        <h2 class="text-2xl font-bold mb-4 text-blue-400">
          Step 1: Choose Your Input Method
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <!-- Manual Color Selection -->
          <button id="manual-mode-btn" class="mode-btn bg-slate-700 hover:bg-slate-600 rounded-lg p-6 text-left transition-all">
            <div class="text-4xl mb-3">ğŸ¨</div>
            <h3 class="text-xl font-bold mb-2">Manual Colors</h3>
            <p class="text-gray-400 text-sm">
              Pick colors directly with color pickers
            </p>
          </button>

          <!-- Camera Capture -->
          <button id="camera-mode-btn" class="mode-btn bg-slate-700 hover:bg-slate-600 rounded-lg p-6 text-left transition-all">
            <div class="text-4xl mb-3">ğŸ“·</div>
            <h3 class="text-xl font-bold mb-2">Live Camera</h3>
            <p class="text-gray-400 text-sm">
              Capture outfit with your camera
            </p>
          </button>

          <!-- Image Upload -->
          <button id="upload-mode-btn" class="mode-btn bg-slate-700 hover:bg-slate-600 rounded-lg p-6 text-left transition-all">
            <div class="text-4xl mb-3">ğŸ–¼</div>
            <h3 class="text-xl font-bold mb-2">Upload Image</h3>
            <p class="text-gray-400 text-sm">
              Upload an outfit photo from gallery
            </p>
          </button>
        </div>
      </div>
    </section>

    <!-- Manual Color Selection Section -->
    <section id="manual-section" class="mb-8 hidden fade-in">
      <div class="bg-slate-800 rounded-lg shadow-xl p-6">
        <h2 class="text-2xl font-bold mb-4 text-blue-400">
          Select Colors for Each Garment
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Top -->
          <div class="bg-slate-700 rounded-lg p-4">
            <label class="block text-lg font-semibold mb-3">ğŸ‘• Top</label>
            <input type="color" id="top-color" value="#3b82f6" class="w-full h-16 rounded cursor-pointer">
          </div>

          <!-- Bottom -->
          <div class="bg-slate-700 rounded-lg p-4">
            <label class="block text-lg font-semibold mb-3">ğŸ‘– Bottom</label>
            <input type="color" id="bottom-color" value="#1e293b" class="w-full h-16 rounded cursor-pointer">
          </div>

          <!-- Shoes -->
          <div class="bg-slate-700 rounded-lg p-4">
            <label class="block text-lg font-semibold mb-3">ğŸ‘Ÿ Shoes</label>
            <input type="color" id="shoes-color" value="#ffffff" class="w-full h-16 rounded cursor-pointer">
          </div>
        </div>
      </div>
    </section>

    <!-- Camera Section -->
    <section id="camera-section" class="mb-8 hidden fade-in">
      <div class="bg-slate-800 rounded-lg shadow-xl p-6">
        <h2 class="text-2xl font-bold mb-4 text-blue-400">
          Camera Capture
        </h2>
        
        <div class="space-y-4">
          <!-- Camera controls -->
          <div class="flex flex-wrap gap-3">
            <button id="start-camera-btn" class="btn-primary bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold transition-all">
              ğŸ“· Start Camera
            </button>
            <button id="capture-btn" class="bg-green-600 hover:bg-green-700 px-6 py-3 rounded-lg font-semibold transition-all" disabled>
              ğŸ“¸ Capture Frame
            </button>
            <button id="switch-camera-btn" class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg font-semibold transition-all" disabled>
              ğŸ”„ Switch Camera
            </button>
          </div>

          <!-- Video preview -->
          <div class="flex justify-center">
            <video id="camera-preview" class="hidden max-w-full rounded-lg" autoplay playsinline></video>
          </div>

          <!-- Capture canvas -->
          <div class="flex justify-center">
            <canvas id="capture-canvas" class="hidden max-w-full"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Upload Section -->
    <section id="upload-section" class="mb-8 hidden fade-in">
      <div class="bg-slate-800 rounded-lg shadow-xl p-6">
        <h2 class="text-2xl font-bold mb-4 text-blue-400">
          Upload Outfit Image
        </h2>
        
        <div class="space-y-4">
          <label class="block">
            <div class="border-2 border-dashed border-slate-600 rounded-lg p-8 text-center hover:border-blue-500 transition-all cursor-pointer">
              <div class="text-4xl mb-3">ğŸ“</div>
              <p class="text-lg mb-2">Click to upload an image</p>
              <p class="text-sm text-gray-400">Supports JPG, PNG, WebP</p>
              <input type="file" id="upload-input" accept="image/*" class="hidden">
            </div>
          </label>

          <!-- Upload canvas -->
          <div class="flex justify-center">
            <canvas id="upload-canvas" class="hidden max-w-full"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Crop Controls (shown after image capture/upload) -->
    <section id="crop-controls" class="mb-8 hidden fade-in">
      <div class="bg-slate-800 rounded-lg shadow-xl p-6">
        <h2 class="text-2xl font-bold mb-4 text-blue-400">
          Manual Crop Override (Optional)
        </h2>
        
        <p class="text-gray-400 mb-4">
          Colors have been auto-detected from three zones. You can manually select specific regions if needed.
        </p>

        <div class="flex flex-wrap gap-3 mb-4">
          <button id="crop-top-btn" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg font-semibold transition-all">
            Select Top Region
          </button>
          <button id="crop-bottom-btn" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg font-semibold transition-all">
            Select Bottom Region
          </button>
          <button id="crop-shoes-btn" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg font-semibold transition-all">
            Select Shoes Region
          </button>
          <button id="cancel-crop-btn" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg font-semibold transition-all">
            Cancel Selection
          </button>
        </div>

        <div id="crop-instructions" class="hidden bg-yellow-900 border border-yellow-600 rounded-lg p-3 text-yellow-200">
          Drag on the image to select a region
        </div>
      </div>
    </section>

    <!-- Color Preview -->
    <section class="mb-8 fade-in">
      <div class="bg-slate-800 rounded-lg shadow-xl p-6">
        <h2 class="text-2xl font-bold mb-4 text-blue-400">
          Step 2: Detected Colors
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Top Preview -->
          <div class="bg-slate-700 rounded-lg p-4">
            <h3 class="text-lg font-semibold mb-3">ğŸ‘• Top</h3>
            <div class="flex items-center gap-4">
              <div id="top-preview" class="color-preview w-24 h-24 rounded-full opacity-50"></div>
              <div>
                <p id="top-label" class="text-gray-400">Not detected</p>
              </div>
            </div>
          </div>

          <!-- Bottom Preview -->
          <div class="bg-slate-700 rounded-lg p-4">
            <h3 class="text-lg font-semibold mb-3">ğŸ‘– Bottom</h3>
            <div class="flex items-center gap-4">
              <div id="bottom-preview" class="color-preview w-24 h-24 rounded-full opacity-50"></div>
              <div>
                <p id="bottom-label" class="text-gray-400">Not detected</p>
              </div>
            </div>
          </div>

          <!-- Shoes Preview -->
          <div class="bg-slate-700 rounded-lg p-4">
            <h3 class="text-lg font-semibold mb-3">ğŸ‘Ÿ Shoes</h3>
            <div class="flex items-center gap-4">
              <div id="shoes-preview" class="color-preview w-24 h-24 rounded-full opacity-50"></div>
              <div>
                <p id="shoes-label" class="text-gray-400">Not detected</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Analyze Button -->
    <section class="mb-8 text-center fade-in">
      <button id="analyze-btn" class="btn-primary bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 px-12 py-4 rounded-lg text-xl font-bold shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed" disabled>
        ğŸ” Analyze Outfit
      </button>
      <button id="reset-btn" class="ml-4 bg-gray-600 hover:bg-gray-700 px-8 py-4 rounded-lg text-xl font-bold shadow-lg transition-all">
        ğŸ”„ Reset
      </button>
    </section>

    <!-- Results Section -->
    <section id="results-section" class="mb-8 hidden fade-in">
      <div class="bg-slate-800 rounded-lg shadow-xl p-6">
        <h2 class="text-3xl font-bold mb-6 text-center text-blue-400">
          ğŸ“Š Analysis Results
        </h2>

        <!-- Overall Score -->
        <div class="bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg p-8 mb-6 text-center score-reveal">
          <div class="text-6xl font-bold mb-2">
            <span id="overall-score">0</span><span class="text-gray-400">/100</span>
          </div>
          <div id="grade-letter" class="text-6xl font-bold mb-2">A</div>
          <div id="grade-description" class="text-xl text-gray-400">Excellent</div>
        </div>

        <!-- Score Breakdown -->
        <div class="mb-6">
          <h3 class="text-xl font-bold mb-3 text-purple-400">Score Breakdown</h3>
          <div id="score-breakdown" class="space-y-2">
            <!-- Populated by JavaScript -->
          </div>
        </div>

        <!-- Color Harmony -->
        <div class="bg-slate-700 rounded-lg p-6 mb-6">
          <h3 class="text-xl font-bold mb-3 text-purple-400">ğŸ¨ Color Harmony</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <p class="text-gray-400 mb-1">Type</p>
              <p id="harmony-type" class="text-2xl font-bold">-</p>
            </div>
            <div>
              <p class="text-gray-400 mb-1">Score</p>
              <p id="harmony-score" class="text-2xl font-bold">-</p>
            </div>
          </div>
          <div class="mt-4">
            <p id="harmony-explanation" class="text-gray-300">-</p>
          </div>
        </div>

        <!-- Confidence Score -->
        <div class="bg-slate-700 rounded-lg p-6 mb-6">
          <h3 class="text-xl font-bold mb-3 text-purple-400">ğŸ’ª Confidence Projection</h3>
          <div class="mb-3">
            <div class="flex justify-between items-center mb-2">
              <span class="text-gray-400">Perceived Confidence</span>
              <span id="confidence-score" class="text-xl font-bold">0 / 100</span>
            </div>
            <div class="bg-slate-800 rounded-full h-4 overflow-hidden">
              <div id="confidence-bar" class="progress-bar bg-gradient-to-r from-blue-500 to-purple-500 h-full transition-all" style="width: 0%"></div>
            </div>
          </div>
          <p class="text-sm text-gray-400">
            Based on color contrast, saturation, and visual balance
          </p>
        </div>

        <!-- Mood Detection -->
        <div class="bg-slate-700 rounded-lg p-6 mb-6">
          <h3 class="text-xl font-bold mb-3 text-purple-400">ğŸ˜Š Mood Perception</h3>
          <div class="mb-3">
            <p id="mood-label" class="text-3xl font-bold mb-2">-</p>
            <p id="mood-explanation" class="text-gray-300">-</p>
          </div>
        </div>

        <!-- Comparison Section -->
        <div id="comparison-section" class="bg-slate-700 rounded-lg p-6 hidden">
          <h3 class="text-xl font-bold mb-3 text-purple-400">ğŸ“ˆ Comparison with Previous Outfit</h3>
          <div class="mb-3">
            <p id="comparison-message" class="text-lg font-semibold mb-3">-</p>
            <ul id="comparison-details" class="list-disc list-inside space-y-1">
              <!-- Populated by JavaScript -->
            </ul>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-slate-800 py-6 mt-12">
    <div class="container mx-auto px-4 text-center text-gray-400">
      <p class="mb-2">ğŸ§  Outfit Intelligence Tool</p>
      <p class="text-sm">
        100% client-side processing â€¢ No server required â€¢ Built with real color theory
      </p>
      <p class="text-xs mt-2">
        Uses Canvas API, Camera API, and localStorage for outfit analysis
      </p>
    </div>
  </footer>

  <!-- JavaScript Modules -->
  <script src="js/colorAnalysis.js"></script>
  <script src="js/scoring.js"></script>
  <script src="js/camera.js"></script>
  <script src="js/garmentDetection.js"></script>
  <script src="js/cropTool.js"></script>
  <script src="js/comparison.js"></script>
  <script src="js/app.js"></script>

</body>
</html>
